# TypeScript で始める Web アプリケーションテスト入門

## はじめに

### テストの重要性

ウォータフォール型の開発からアジャイル開発になった

スプリントの中で機能を実装し、リリースするようになったことで
既存の機能を破壊してしまっていないかをテストによって確認することができる

品質の保証、リリースのスピード、開発者の安心感が確保される

### テストの種類とテスト戦略

ユニットテスト
→ 基本的なテスト
→ 関数やメソッドなどの単位での動作を検証する
→ 速度は速い
→ 全体の動作は検証できない

統合テスト
→ 複数のユニットが連携して正しく動作するかを検証する
→ セットアップやデータの準備が複雑になることがある

E2E テスト
→ アプリケーション全体をブラウザで動作させ、ユーザーの操作を模倣する
→ 実際のユーザーの導線を再現でき、全体の動作を検証できる
→ 実行時間が長く、セットアップも複雑になる

テスト戦略
→ プロジェクトの規模や状況に応じて最適なテスト実施の方向性を決めること

戦略の取り方として

テストピラミッド：

ユニットテスト　 → インテグレーションテスト　 → E2E テスト
の順にテストの数を減らしていく

実行速度が速いユニットテストは多めに。実行速度の遅くコストの高い E2E は最小限にする

テスティングトロフィー：

静的解析（linter のこと）を導入する
インテグレーションテストが一番バグ発見しやすいでしょということでこれを一番多くする

### Jest と基本的なテスト

Meta 社が開発したテストライブラリ

javascript や typescript で書かれたコードであればほぼテストができる

セットアップが簡単

テスト同士が独立していて高速

メリット：
機能が充実
高速
モック機能が豊富
ドキュメントが豊富

デメリット：
学習コストはそれなりに高い
実際のブラウザ上でのテストは d けいない
後発のフレームワークが出つつあるよ

Mocha, Jasmine などが他の選択肢があるよ

### Jest のインストールと設定

```
npm init -y
npm i -D typescript
npx tsc --init

npm i -D jest @types/jest ts-jest
npx ts-jest config:init
```
